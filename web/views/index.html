{% extends "./web/views/layouts/main.html" %}
{% block content %}
<template x-if="collectionStats != null">
<table style="width:100%;color:#fff;">
    <tr>
        <td></td>
        <td><span x-text="collectionStats.ns"></span> </td>
        
    </tr>
    <tr>
        <td></td>
        <td><span x-text="collectionStats.size"></span> </td>
        
    </tr>
    <tr>
        <td></td>
        <td><span x-text="collectionStats.count"></span> </td>
        
    </tr>
    <tr>
        <td></td>
        <td><span x-text="collectionStats.size"></span> </td>
        
    </tr>
    <tr>
        <td></td>
        <td><span x-text="collectionStats.avgObjSize"></span> </td>
        
    </tr>
    <tr>
        <td></td>
        <td><span x-text="collectionStats.storageSize"></span> </td>
        
    </tr>
    <tr>
        <td></td>
        <td><span x-text="collectionStats.freeStorageSize"></span> </td>
        
    </tr>
    <tr>
        <td></td>
        <td><span x-text="collectionStats.capped"></span> </td>
        
    </tr>
    <tr>
        <td></td>
        <td><span x-text="collectionStats.max"></span> </td>
        
    </tr>
    <tr>
        <td></td>
        <td><span x-text="collectionStats.maxSize"></span> </td>
        
    </tr>
    <tr>
        <td>------</td>
        <td><span x-text="collectionStats.wiredTiger['block-manager']['file bytes available for reuse']"></span> </td>
        
    </tr>
    <tr>
        <td>****</td>
        <td><span x-text="collectionStats.wiredTiger['block-manager']['file size in bytes']"></span> </td>
        
    </tr>
  
</table>


</template>

    
 
 

<script type="text/javascript">

    function mongomanagement(){
        return{
            server:"",
            port:"",
            db:"",
            collectionSize:null,
            collectionStats:null,
            collectionNames :[],
            isLoading:false,
            fetchCollectionNames(){
                this.isLoading = true;
                fetch("/collection/list/" + this.server + "/" + this.port + "/" + this.db)
                .then((res)=>res.json())
                .then((data) => {
                    this.isLoading = false;
                    this.collectionNames = data;
                });
            },
            getStats(coll){
                fetch("/collection/stats/" + coll)
                .then((res) => res.json())
                .then((data) =>{
                    this.isLoading = false;
                    this.collectionStats = data;
                });
            },
      };
        }
    
</script>
{% endblock %}
